@model List<BitirmePro.Models.Ogrenci3>
@{
    Layout = null;
}

<!DOCTYPE html>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>M205</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style type="text/css">
        body {
            font-family: Arial;
            font-size: 9pt;
        }
        .con {
            margin: 90px;
            padding: 20px;
            float: left;
            width: 2000px;
        }

        .column {
            float: left;
            width: auto;
            margin: 30px;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        table, th, td {
            border: 2px solid black;
            border-collapse: collapse;
            text-align: left;
            padding: 15px;
            margin: 5px;
            float: right;
        }
    </style>
    @{ int x = 1; }
</head>
<body>
    <div class="con">
        <span></span>
        <div id="PrintPDF" class="row">
            <h2 class="col-md-offset-2">M205</h2>
            <div class="column">
                <table>
                    @{
                        for (int b = 0; b < 10; b++)
                        {
                            <tr style="height:70px">
                                @{
                                    for (int c = 0; c < 1; c++)
                                    {
                                        if (Model.Count > 0)
                                        {
                                            <th style="max-width:110px">
                                                <p>@x</p>
                                                <p>@Model[0].Numarası</p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Adı
                                                </p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Soyadı
                                                </p>
                                            </th>
                                            Model.RemoveAt(0);
                                            x++;
                                        }

                                    }
                                }
                            </tr>
                        }
                    }
                </table>
            </div>
            <div class="column">
                <table>
                    @{
                        for (int b = 0; b < 13; b++)
                        {
                            <tr style="height:90px">
                                @{
                                    for (int c = 0; c < ViewBag.su2; c++)
                                    {
                                        if (Model.Count > 0)
                                        {
                                            <th style="max-width:110px">
                                                <p>@x</p>
                                                <p>@Model[0].Numarası</p>
                                                <p style="max-block-size:max-content">@Model[0].Adı </p>
                                                <p style="max-block-size:max-content"> @Model[0].Soyadı</p>
                                            </th>
                                            Model.RemoveAt(0);
                                            x++;
                                        }
                                    }
                                }
                            </tr>
                        }
                    }
                </table>
            </div>
            <div class="column">
                <table>
                    @{
                        for (int b = 0; b < 13; b++)
                        {
                            <tr style="height:70px">
                                @{
                                    for (int c = 0; c < ViewBag.su3; c++)
                                    {
                                        if (Model.Count > 0)
                                        {
                                            <th style="max-width:110px">
                                                <p>@x</p>
                                                <p>@Model[0].Numarası</p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Adı
                                                </p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Soyadı
                                                </p>
                                            </th>
                                            Model.RemoveAt(0);
                                            x++;
                                        }
                                    }
                                }
                            </tr>
                        }
                    }
                </table>
            </div>
            <div class="column">
                <table>
                    @{
                        for (int b = 0; b < 13; b++)
                        {
                            <tr style="height:70px">
                                @{
                                    for (int c = 0; c < ViewBag.su4; c++)
                                    {
                                        if (Model.Count > 0)
                                        {
                                            <th style="max-width:110px">
                                                <p>@x</p>
                                                <p>@Model[0].Numarası</p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Adı
                                                </p>
                                                <p style="max-block-size:max-content">
                                                    @Model[0].Soyadı
                                                </p>
                                            </th>
                                            Model.RemoveAt(0);
                                            x++;
                                        }
                                    }
                                }
                            </tr>
                        }
                    }
                </table>
            </div>

        </div>
        @using (Html.BeginForm("Delete", "Delete", FormMethod.Post))
        {
            <input type="hidden" name="KisiSayi" value="@x" />
            <input type="submit" id="btnPDF" value="İndir" style="background-color:red ; color:black ; height:40px ; width:80px" />
            <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
            <script type="text/javascript">
                $("body").on("click", "#btnPDF", function () {
                    html2canvas($('#PrintPDF')[0], {
                        onrendered: function (canvas) {
                            var data = canvas.toDataURL();
                            var docDefinition = {
                                content: [{
                                    image: data,
                                    width: 500
                                }]
                            };
                            pdfMake.createPdf(docDefinition).download("M205.pdf");
                        }
                    });
                });
            </script>
            <input type="button" name="KisiSayi" value="Gönder" style="background-color:red ; color:black ; height:40px ; width:80px" />
        }
    </div>
</body>
</html>


